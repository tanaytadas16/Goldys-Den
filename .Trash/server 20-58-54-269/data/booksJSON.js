const axios = require('axios');
const booksArray = [
    {
        'Book Id': 58406851,
        Title: 'Batman Vol. 5: Fear State',
        Author: 'James Tynion IV',
        'Author l-f': 'IV, James Tynion',
        'Additional Authors':
            'Jorge Jiménez, Tomeu Morey, Bengal, Clayton Cowles',
        ISBN: '="',
        ISBN13: '="9781779514301',
        'My Rating': 0,
        'Average Rating': 3.36,
        Publisher: 'DC Comics',
        Binding: 'Hardcover',
        'Number of Pages': 160,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#16)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58340831,
        Title: 'Inferno by Jonathan Hickman',
        Author: 'Jonathan Hickman',
        'Author l-f': 'Hickman, Jonathan',
        'Additional Authors': 'Stefano Caselli, Valerio Schiti',
        ISBN: '="1302932810',
        ISBN13: '="9781302932817',
        'My Rating': 0,
        'Average Rating': 4.24,
        Publisher: 'Marvel',
        Binding: 'Hardcover',
        'Number of Pages': 224,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#15)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58340830,
        Title: 'X-Men: The Trial of Magneto',
        Author: 'Leah Williams',
        'Author l-f': 'Williams, Leah',
        'Additional Authors': 'Lucas Werneck, David Messina',
        ISBN: '="1302932179',
        ISBN13: '="9781302932176',
        'My Rating': 0,
        'Average Rating': 3.3,
        Publisher: 'Marvel',
        Binding: 'Paperback',
        'Number of Pages': 152,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#14)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 60166394,
        Title: 'Saga #57',
        Author: 'Brian K. Vaughan',
        'Author l-f': 'Vaughan, Brian K.',
        'Additional Authors': 'Fiona Staples, Fonografiks',
        ISBN: '="',
        ISBN13: '="',
        'My Rating': 0,
        'Average Rating': 4.34,
        Publisher: 'Image Comics',
        Binding: 'Kindle Edition',
        'Number of Pages': 32,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#13)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58340720,
        Title: 'Anne of West Philly: A Modern Graphic Retelling of Anne of Green Gables',
        Author: 'Ivy Noelle Weir',
        'Author l-f': 'Weir, Ivy Noelle',
        'Additional Authors': 'Myisha Haynes',
        ISBN: '="0316459771',
        ISBN13: '="9780316459778',
        'My Rating': 0,
        'Average Rating': 4.01,
        Publisher: 'Little, Brown Books for Young Readers',
        Binding: 'Paperback',
        'Number of Pages': 256,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#12)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58502336,
        Title: 'The Nice House on the Lake, Vol. 1',
        Author: 'James Tynion IV',
        'Author l-f': 'IV, James Tynion',
        'Additional Authors': 'Álvaro Martínez Bueno, Jordie Bellaire',
        ISBN: '="1779514344',
        ISBN13: '="9781779514349',
        'My Rating': 0,
        'Average Rating': 4.46,
        Publisher: 'DC Comics',
        Binding: 'Paperback',
        'Number of Pages': 200,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#11)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58801670,
        Title: 'The Me You Love In The Dark',
        Author: 'Skottie Young',
        'Author l-f': 'Young, Skottie',
        'Additional Authors': 'Jorge Corona',
        ISBN: '="1534321144',
        ISBN13: '="9781534321144',
        'My Rating': 0,
        'Average Rating': 3.79,
        Publisher: 'Image Comics',
        Binding: 'Paperback',
        'Number of Pages': 128,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#10)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58446218,
        Title: 'How to Take Over the World: Practical Schemes and Scientific Solutions for the Aspiring Supervillain',
        Author: 'Ryan North',
        'Author l-f': 'North, Ryan',
        'Additional Authors': '',
        ISBN: '="059319201X',
        ISBN13: '="9780593192016',
        'My Rating': 0,
        'Average Rating': 4.16,
        Publisher: 'Riverhead Books',
        Binding: 'Hardcover',
        'Number of Pages': 416,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#9)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58437734,
        Title: 'Isla to Island',
        Author: 'Alexis Castellanos',
        'Author l-f': 'Castellanos, Alexis',
        'Additional Authors': '',
        ISBN: '="1534469249',
        ISBN13: '="9781534469242',
        'My Rating': 0,
        'Average Rating': 4.31,
        Publisher: 'Atheneum Books for Young Readers',
        Binding: 'Hardcover',
        'Number of Pages': 192,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#8)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58437575,
        Title: 'Two Heads: A Graphic Exploration of How Our Brains Work with Other Brains',
        Author: 'Uta Frith',
        'Author l-f': 'Frith, Uta',
        'Additional Authors':
            'Chris Frith, Christopher D. Frith, Alex Frith, Daniel Locke',
        ISBN: '="1501194070',
        ISBN13: '="9781501194078',
        'My Rating': 0,
        'Average Rating': 4.32,
        Publisher: 'Scribner',
        Binding: 'Hardcover',
        'Number of Pages': 352,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#7)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 56969413,
        Title: 'Flung Out of Space: Inspired by the Indecent Adventures of Patricia Highsmith',
        Author: 'Grace Ellis',
        'Author l-f': 'Ellis, Grace',
        'Additional Authors': 'Hannah Templer, Joan Schenkar',
        ISBN: '="141974433X',
        ISBN13: '="9781419744334',
        'My Rating': 0,
        'Average Rating': 4.2,
        Publisher: 'Harry N. Abrams',
        Binding: 'Hardcover',
        'Number of Pages': 208,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#6)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 58889116,
        Title: 'Girl on Fire',
        Author: 'Alicia Keys',
        'Author l-f': 'Keys, Alicia',
        'Additional Authors': 'Andrew     Weiner, Brittney Williams',
        ISBN: '="0063029561',
        ISBN13: '="9780063029569',
        'My Rating': 0,
        'Average Rating': 3.92,
        Publisher: 'Harper Alley',
        Binding: 'Hardcover',
        'Number of Pages': 224,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#5)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 55867756,
        Title: 'Messy Roots: A Graphic Memoir of a Wuhanese-American',
        Author: 'Laura Gao',
        'Author l-f': 'Gao, Laura',
        'Additional Authors': '',
        ISBN: '="0063067773',
        ISBN13: '="9780063067776',
        'My Rating': 0,
        'Average Rating': 4.3,
        Publisher: 'Balzer + Bray',
        Binding: 'Hardcover',
        'Number of Pages': 272,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#4)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 57992923,
        Title: 'Squire',
        Author: 'Sara Alfageeh',
        'Author l-f': 'Alfageeh, Sara',
        'Additional Authors': 'Nadia Shammas',
        ISBN: '="006294584X',
        ISBN13: '="9780062945846',
        'My Rating': 0,
        'Average Rating': 4.22,
        Publisher: 'Quill Tree Books',
        Binding: 'Paperback',
        'Number of Pages': 336,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#3)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
    {
        'Book Id': 57693604,
        Title: 'Secret Identity',
        Author: 'Alex Segura',
        'Author l-f': 'Segura, Alex',
        'Additional Authors': '',
        ISBN: '="1250801745',
        ISBN13: '="9781250801746',
        'My Rating': 0,
        'Average Rating': 3.79,
        Publisher: 'Flatiron Books',
        Binding: 'Hardcover',
        'Number of Pages': 368,
        'Year Published': 2022,
        'Original Publication Year': 2022,
        'Date Read': '',
        'Date Added': '2022/05/03',
        Bookshelves: 'to-read',
        'Bookshelves with positions': 'to-read (#2)',
        'Exclusive Shelf': 'to-read',
        'My Review': '',
        Spoiler: '',
        'Private Notes': '',
        'Read Count': 0,
        'Recommended For': '',
        'Recommended By': '',
        'Owned Copies': 0,
        'Original Purchase Date': '',
        'Original Purchase Location': '',
        Condition: '',
        'Condition Description': '',
        BCID: '',
    },
];
const DataObjectCreation = async () => {
    const results = [];

    for (const eachBook of booksArray) {
        let newObject = {};

        try {
            const { data } = await axios.get(
                `https://www.googleapis.com/books/v1/volumes?q="${eachBook.Title}"&maxResults=1`
            );
            const imageURL = `https://books.google.com/books/content?id=${data.items[0].id}&printsec=frontcover&img=1&zoom=1&edge=curl&source=gbs_api`;

            newObject = {
                ISBN: eachBook.ISBN.substring(2),
                title: eachBook.Title,
                url: imageURL,
                description: data.items[0].volumeInfo.description,
                author: eachBook.Author,
                averageRating: eachBook['Average Rating'],
                binding: eachBook.Binding,
                genre: 'comics',
                numberofPages: eachBook['Number of Pages'],
                originalPublicationYear: eachBook['Original Publication Year'],
                price:
                    data.items[0].saleInfo &&
                    data.items[0].saleInfo.retailPrice &&
                    data.items[0].saleInfo.retailPrice.amount
                        ? data.items[0].saleInfo.retailPrice.amount
                        : 'Not For Sale',
                publisher: eachBook.Publisher,

                yearPublished: eachBook['Year Published'],
            };
            results.push(newObject);
            // console.log(results);
        } catch (e) {
            console.log(e);
        }
    }
    return results;
};

// DataObjectCreation();

module.exports = { DataObjectCreation };
